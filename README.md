# Tigra project

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- [3d_models](3d_models) - 3D –º–æ–¥–µ–ª—å–∫–∏ –∫–æ—Ä–ø—É—Å–æ–≤, –¥–µ—Ç–∞–ª–µ–π –∏ —Ç.–¥.
- [docs](docs) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É
    - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—á–∞–ª—É —Ä–∞–±–æ—Ç—ã (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ) –≤—ã –Ω–∞–π–¥–µ—Ç–µ [–∑–¥–µ—Å—å](docs/DEVELOPMENT.md)
    - –ê –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–±–æ—Ç–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å](docs/DESCRIPTION.md)
- [scripts](scripts) - —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏/–∑–∞–ø—É—Å–∫–∞ —á–µ–≥–æ –ª–∏–±–æ
- [ackermann_raw_controller_plugin](ackermann_raw_controller_plugin) - –ø–ª–∞–≥–∏–Ω –¥–ª—è –º–æ–¥–µ–ª–∏ –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å—Ö–æ–∂–∏–π —Å —Ä–µ–∞–ª—å–Ω—ã–º —Ä–æ–±–æ—Ç–æ–º
    > –°–∞–º –ø–ª–∞–≥–∏–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç —Å—ã—Ä—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —É–∑–ª–æ–º `tigra_software/robot_layer`
- [third_party](third_party) - –ø–∞—Ç—á–∏ –¥–ª—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏ –º–µ—Å—Ç–æ –¥–ª—è –∏—Ö –∑–∞–≥—Ä—É–∑–∫–∏
- [tigra_description](tigra_description) - –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–±–æ—Ç–∞ (–∫–æ–Ω—Ñ–∏–≥–∏, –º–æ–¥–µ–ª—å–∫–∏ –∏ —Ç.–¥.)
- [tigra_maps](tigra_maps) - –∫–∞—Ä—Ç—ã –¥–ª—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
- [tigra_msgs](tigra_msgs) - –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [tigra_software](tigra_software) - –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∑–∞–ø—É—Å–∫–∞ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞ –∏ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
- [tigra_vision](tigra_vision) - –ø–∞–∫–µ—Ç –ø–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ —Ä–æ–±–æ—Ç–∞ (—Ä–∞–±–æ—Ç–∞ —Å –∫–∞–º–µ—Ä–∞–º–∏, –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–¥–æ–º–µ—Ç—Ä–∏—è –∏ —Ç.–¥.)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–û–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–±–æ—Ç–∞](https://lavish-podium-945.notion.site/Tigra-c740280f21394deb8394ce08008f9b60)
- –ë–æ–ª—å—à–∏–µ —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ [–¥–∏—Å–∫–µ](https://disk.yandex.ru/d/1sRPly7asQT_Gg)
- [–°—Ö–µ–º—ã —Å–∏—Å—Ç–µ–º—ã](docs/Schemes.drawio) (–¥–ª—è —á—Ç–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ drawio —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ VSCode –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [diagrams.net](https://app.diagrams.net/))
- Firmware –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –≤ [–¥—Ä—É–≥–æ–π —Ä–µ–ø–æ](https://github.com/lsd-maddrive/tigra-firmware).


### –ê–ø–ø–∞—Ä–∞—Ç—É—Ä–∞

- –ö–∞–º–µ—Ä—ã
    - [Xiaomi IMILAB](https://market.yandex.ru/product--veb-kamera-xiaomi-imilab-chernyi/668572011?cpa=1&sku=100956420730)
    - [Microsoft Lifecam HD-3000](https://www.microsoft.com/ru-ru/accessories/products/webcams/lifecam-hd-3000)
    - [GPS Ublox M8N](https://www.u-blox.com/en/product/neo-m8-series)
        - https://microem.ru/produkti/besprovodnie-tehnologii/glonass-gps-moduli/glonass-gps-modul-neo-m8/
    - [C—Ç–µ—Ä–µ–æ–∫–∞–º–µ—Ä—ã ELP](http://www.elpcctv.com/elp-720p-cmos-ov9712-sensor-mjpeg-yuy2-dual-lens-stereo-usb-camera-module-with-uvc-for-robot-vision-p-135.html)

### Common

- https://linklab-uva.github.io/autonomousracing/assets/files/L11-compressed.pdf
- http://wiki.ros.org/rtabmap_ros/Tutorials/SetupOnYourRobot
- http://wiki.ros.org/rtabmap_ros/Tutorials/HandHeldMapping

### GPS

- https://www.github.com/methylDragon/ros-sensor-fusion-tutorial/tree/master/01%20-%20ROS%20and%20Sensor%20Fusion%20Tutorial.md
- https://docs.ros.org/en/noetic/api/robot_localization/html/integrating_gps.html
- http://docs.ros.org/en/noetic/api/robot_localization/html/state_estimation_nodes.html

### Odometry

- https://github.com/ros-controls/ros_controllers/tree/noetic-devel/ackermann_steering_controller
- http://www.lcad.inf.ufes.br/wiki/images/b/b8/Ackerman-steering.pdf
- https://www.theconstructsim.com/wp-content/uploads/2018/05/ros-extra-2.pdf
- https://docs.swiftnav.com/wiki/ROS_Integration_Guide
- http://wiki.ros.org/rtabmap_ros/Tutorials/StereoOutdoorMapping

### Visual odometry

- http://wiki.ros.org/viso2_ros?distro=indigo
- https://github.com/klintan/vo-survey

### Gazebo models

- https://github.com/NevzatBOL/ROS-Beginner/tree/master/catkin_ws/src/sensor_models/urdf

### Movebase

- https://blog.zhaw.ch/icclab/configuring-the-ros-navigation-stack-on-a-new-robot/


## IMU heading (orientation) notes

- the signs of your orientation angles increase in the right direction
- all heading data is assumed to start with its zero point facing east
- If your IMU does not conform to this standard and instead reports zero when facing north, you can still use the yaw_offset parameter to correct this. In this case, the value for yaw_offset would be ùúã/2 (approximately 1.5707963).


## Notes

- –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –æ—Ç–ª–∞–¥–∫–∏

```xml
    <node pkg="rosservice" type="rosservice" name="set_log_level_1" args="call --wait /tigra/rosserial_server/set_logger_level 'ros.rosserial_server' 'debug'" />
    <node pkg="rosservice" type="rosservice" name="set_log_level_2" args="call --wait /tigra/rosserial_server/set_logger_level 'ros.roscpp' 'debug'" />
```

- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã –¥–ª—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
export PYTHONPATH=$PYTHONPATH:/usr/local/lib/python3.8/site-packages
export LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libjemalloc.so.2 # https://github.com/SteveMacenski/spatio_temporal_voxel_layer/issues/167
```

